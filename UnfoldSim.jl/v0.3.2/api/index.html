<!DOCTYPE html><HTML lang="en"><head><script charset="utf-8" src="../../../assets/default/multidoc_injector.js" type="text/javascript"></script><script charset="utf-8" type="text/javascript">window.MULTIDOCUMENTER_ROOT_PATH = '/UnfoldDocs/'</script><script charset="utf-8" src="../../../assets/default/flexsearch.bundle.js" type="text/javascript"></script><script charset="utf-8" src="../../../assets/default/flexsearch_integration.js" type="text/javascript"></script><meta charset="UTF-8"/><meta content="width=device-width, initial-scale=1.0" name="viewport"/><title>API / Docstrings · UnfoldSim.jl</title><meta content="API / Docstrings · UnfoldSim.jl" name="title"/><meta content="API / Docstrings · UnfoldSim.jl" property="og:title"/><meta content="API / Docstrings · UnfoldSim.jl" property="twitter:title"/><meta content="Documentation for UnfoldSim.jl." name="description"/><meta content="Documentation for UnfoldSim.jl." property="og:description"/><meta content="Documentation for UnfoldSim.jl." property="twitter:description"/><meta content="https://unfoldtoolbox.github.io/UnfoldSim.jl/api/" property="og:url"/><meta content="https://unfoldtoolbox.github.io/UnfoldSim.jl/api/" property="twitter:url"/><link href="https://unfoldtoolbox.github.io/UnfoldDocs/UnfoldSim.jl/stable/api/" rel="canonical"/><script data-outdated-warner="" src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script data-main="../assets/documenter.js" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" data-theme-name="catppuccin-mocha" href="../assets/themes/catppuccin-mocha.css" rel="stylesheet" type="text/css"/><link class="docs-theme-link" data-theme-name="catppuccin-macchiato" href="../assets/themes/catppuccin-macchiato.css" rel="stylesheet" type="text/css"/><link class="docs-theme-link" data-theme-name="catppuccin-frappe" href="../assets/themes/catppuccin-frappe.css" rel="stylesheet" type="text/css"/><link class="docs-theme-link" data-theme-name="catppuccin-latte" href="../assets/themes/catppuccin-latte.css" rel="stylesheet" type="text/css"/><link class="docs-theme-link" data-theme-name="documenter-dark" data-theme-primary-dark="" href="../assets/themes/documenter-dark.css" rel="stylesheet" type="text/css"/><link class="docs-theme-link" data-theme-name="documenter-light" data-theme-primary="" href="../assets/themes/documenter-light.css" rel="stylesheet" type="text/css"/><script src="../assets/themeswap.js"></script><link href="../../../assets/default/multidoc.css" rel="stylesheet" type="text/css"/><link href="../../../assets/default/flexsearch.css" rel="stylesheet" type="text/css"/></head><body><nav id="multi-page-nav"><div class="hidden-on-mobile" id="nav-items"><a class="nav-link nav-item" href="../../../Unfold.jl/">Unfold.jl</a><a class="nav-link nav-item" href="../../../UnfoldMakie.jl/">Visualization</a><a class="nav-link active nav-item" href="../../">Simulation</a><a class="nav-link nav-item" href="../../../UnfoldMixedModels.jl/">MixedModels</a><a class="nav-link nav-item" href="../../../UnfoldBIDS.jl/">BIDS-Pipeline</a><a class="nav-link nav-item" href="../../../UnfoldStats.jl/">Statistics</a><a class="nav-link nav-item" href="../../../UnfoldDecode.jl/">Decoding</a><div class="search nav-item"><input id="search-input" placeholder="Search..."/><ul class="suggestions hidden" id="search-result-container"></ul><div class="search-keybinding">/</div></div></div><button id="multidoc-toggler"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg></button></nav><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img alt="UnfoldSim.jl logo" src="../assets/logo.png"/></a><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../generated/tutorials/quickstart/">Quickstart</a></li><li><a class="tocitem" href="../generated/tutorials/simulateERP/">Simulate event-related potentials (ERPs)</a></li><li><a class="tocitem" href="../generated/tutorials/poweranalysis/">Power analysis</a></li><li><a class="tocitem" href="../generated/tutorials/multisubject/">Multi-subject simulation</a></li></ul></li><li><span class="tocitem">Reference</span><ul><li><a class="tocitem" href="../generated/reference/overview/">Overview of functionality</a></li><li><a class="tocitem" href="../generated/reference/designtypes/">Overview: Experimental design types</a></li><li><a class="tocitem" href="../generated/reference/basistypes/">Overview: Basis function (component) types</a></li><li><a class="tocitem" href="../generated/reference/onsettypes/">Overview: Onset types</a></li><li><a class="tocitem" href="../generated/reference/noisetypes/">Overview: Noise types</a></li></ul></li><li><span class="tocitem">HowTo</span><ul><li><a class="tocitem" href="../generated/HowTo/newDesign/">Define a new (imbalanced) design</a></li><li><a class="tocitem" href="../generated/HowTo/repeatTrials/">Get multiple trials with identical subject/item combinations</a></li><li><a class="tocitem" href="../generated/HowTo/newComponent/">Define a new component (with variable duration and shift)</a></li><li><a class="tocitem" href="../generated/HowTo/multichannel/">Generate multi channel data</a></li><li><a class="tocitem" href="../generated/HowTo/predefinedData/">Use existing experimental designs &amp; onsets in the simulation</a></li></ul></li><li class="is-active"><a class="tocitem" href="">API / Docstrings</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" href="#" id="documenter-sidebar-button"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href="">API / Docstrings</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="">API / Docstrings</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/unfoldtoolbox/UnfoldSim.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/main/docs/src/api.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" href="#" id="documenter-settings-button" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" href="javascript:;" id="documenter-article-toggle-button" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.AutoRegressiveNoise" id="UnfoldSim.AutoRegressiveNoise"><code>UnfoldSim.AutoRegressiveNoise</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">AutoRegressiveNoise &lt;: AbstractNoise</code></pre><p>Not implemented</p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/noise.jl#L59-L62" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.ExponentialNoise" id="UnfoldSim.ExponentialNoise"><code>UnfoldSim.ExponentialNoise</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ExponentialNoise &lt;: AbstractNoise</code></pre><p>Noise with exponential decay in AR spectrum.</p><p><code>noiselevel</code> is used to scale the noise</p><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>With the current implementation we try to get exponential decay over the whole autoregressive (AR) spectrum, which is N samples (the total number of samples in the signal) long. This involves the inversion of a Cholesky matrix of size NxN matrix, which will need lots of RAM for non-trivial problems.</p></div></div></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/noise.jl#L67-L77" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.LinearModelComponent" id="UnfoldSim.LinearModelComponent"><code>UnfoldSim.LinearModelComponent</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>A multiple regression component for one subject</p><ul><li><code>basis</code>: an object, if accessed, provides a 'basis-function', e.g. <code>hanning(40)</code>, this defines the response at a single event. It will be weighted by the model-prediction</li><li><code>formula</code>: StatsModels Formula-Object  <code>@formula 0~1+cond</code> (left side must be 0)</li><li><code>β</code> Vector of betas, must fit the formula</li><li><code>contrasts</code>: Dict. Default is empty, e.g. <code>Dict(:condA=&gt;EffectsCoding())</code></li></ul><p>All arguments can be named, in that case <code>contrasts</code> is optional</p><p>Works best with <code>SingleSubjectDesign</code></p><pre><code class="language-julia hljs">LinearModelComponent(;
    basis=hanning(40),
    formula=@formula(0~1+cond),
    β = [1.,2.],
    contrasts=Dict(:cond=&gt;EffectsCoding())
)
</code></pre></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/component.jl#L32-L52" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.LogNormalOnset" id="UnfoldSim.LogNormalOnset"><code>UnfoldSim.LogNormalOnset</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@with_kw struct LogNormalOnset &lt;: AbstractOnset</code></pre><p>Log-normal inter-event distances using the <code>Distributions.jl</code> truncated LogNormal distribution.</p><p>Be careful with large <code>μ</code> and <code>σ</code> values, as they are on logscale. σ&gt;8 can quickly give you out-of-memory sized signals!</p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/onset.jl#L15-L20" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.MixedModelComponent" id="UnfoldSim.MixedModelComponent"><code>UnfoldSim.MixedModelComponent</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>A component that adds a hierarchical relation between parameters according to a LMM defined via MixedModels.jl</p><ul><li><code>basis</code>: an object, if accessed, provides a 'basis-function', e.g. <code>hanning(40)</code>, this defines the response at a single event. It will be weighted by the model-prediction</li><li><code>formula</code>: Formula-Object in the style of MixedModels.jl e.g. <code>@formula 0~1+cond + (1|subject)</code> - left-handside is ignored</li><li><code>β</code> Vector of betas, must fit the formula</li><li><code>σs</code> Dict of random effect variances, e.g. <code>Dict(:subject=&gt;[0.5,0.4])</code> or to specify correlationmatrix <code>Dict(:subject=&gt;[0.5,0.4,I(2,2)],...)</code>. Technically, this will be passed to MixedModels.jl <code>create_re</code> function, which creates the θ matrices.</li><li><code>contrasts</code>: Dict in the style of MixedModels.jl. Default is empty.</li></ul><p>All arguments can be named, in that case <code>contrasts</code> is optional</p><p>Works best with <code>MultiSubjectDesign</code></p><pre><code class="language-julia hljs">MixedModelComponent(;
    basis=hanning(40),
    formula=@formula(0~1+cond+(1+cond|subject)),
    β = [1.,2.],
    σs= Dict(:subject=&gt;[0.5,0.4]),
    contrasts=Dict(:cond=&gt;EffectsCoding())
)
</code></pre></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/component.jl#L1-L23" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.MultiSubjectDesign" id="UnfoldSim.MultiSubjectDesign"><code>UnfoldSim.MultiSubjectDesign</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">MultiSubjectDesign &lt;: AbstractDesign</code></pre><p>A type for specifying the experimental design for multiple subjects (based on the given random-effects structure).</p><p><strong>Fields</strong></p><ul><li><code>n_subjects</code>::Int -&gt; number of subjects</li><li><code>n_items</code>::Int -&gt; number of items (sometimes ≈trials)</li><li><code>subjects_between</code> = Dict{Symbol,Vector} -&gt; effects between subjects, e.g. young vs old </li><li><code>items_between</code> = Dict{Symbol,Vector} -&gt; effects between items, e.g. natural vs artificial images, (but shown to all subjects if not specified also in <code>subjects_between</code>)</li><li><code>both_within</code> = Dict{Symbol,Vector}	-&gt; effects completly crossed</li><li><code>event_order_function</code> = <code>x-&gt;x</code>; # can be used to sort, or e.g. <code>x-&gt;shuffle(MersenneTwister(42),x)</code> - be sure to fix/update the rng accordingly!!</li></ul><p>Tip: Check the resulting dataframe using <code>generate_events(design)</code></p><p><strong>Example</strong></p><pre><code class="language-julia hljs"># declaring same condition both sub-between and item-between results in a full between subject/item design
design = MultiSubjectDesign(;
		n_items = 10,
		n_subjects = 30,
		subjects_between = Dict(:cond =&gt; ["levelA", "levelB"]),
		items_between = Dict(:cond =&gt; ["levelA", "levelB"]),
		);</code></pre><p>See also <a href="#UnfoldSim.SingleSubjectDesign"><code>SingleSubjectDesign</code></a>, <a href="#UnfoldSim.RepeatDesign"><code>RepeatDesign</code></a></p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/design.jl#L1-L29" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.MultichannelComponent" id="UnfoldSim.MultichannelComponent"><code>UnfoldSim.MultichannelComponent</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Wrapper for an <code>AbstractComponent</code> to project it to multiple target-channels via <code>projection</code>. optional adds <code>noise</code> to the source prior to projection.</p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/component.jl#L61-L63" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.NoNoise" id="UnfoldSim.NoNoise"><code>UnfoldSim.NoNoise</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">NoNoise &lt;: AbstractNoise</code></pre><p>Return zeros instead of noise.</p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/noise.jl#L52-L56" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.NoOnset" id="UnfoldSim.NoOnset"><code>UnfoldSim.NoOnset</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct NoOnset &lt;: AbstractOnset end</code></pre><p>In the case that the user directly wants no overlap to be simulated (=&gt; epoched data).</p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/onset.jl#L28-L31" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.PinkNoise" id="UnfoldSim.PinkNoise"><code>UnfoldSim.PinkNoise</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">PinkNoise &lt;: AbstractNoise</code></pre><p>Generate Pink Noise using the SignalAnalysis.jl implementation.</p><p><code>noiselevel</code> is used to scale the noise</p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/noise.jl#L6-L11" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.RealisticNoise" id="UnfoldSim.RealisticNoise"><code>UnfoldSim.RealisticNoise</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">RealisticNoise &lt;: AbstractNoise</code></pre><p>Not implemented - planned to use Artifacts.jl to provide real EEG data to add.</p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/noise.jl#L44-L47" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.RedNoise" id="UnfoldSim.RedNoise"><code>UnfoldSim.RedNoise</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">RedNoise &lt;: AbstractNoise</code></pre><p>Generate Red Noise using the SignalAnalysis.jl implementation.</p><p><code>noiselevel</code> is used to scale the noise</p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/noise.jl#L18-L23" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.RepeatDesign" id="UnfoldSim.RepeatDesign"><code>UnfoldSim.RepeatDesign</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">RepeatDesign{T} &lt;: AbstractDesign</code></pre><p>Repeat a design DataFrame multiple times to mimick repeatedly recorded trials.</p><pre><code class="language-julia hljs">designOnce = MultiSubjectDesign(;
		n_items=2,
		n_subjects = 2,
		subjects_between =Dict(:cond=&gt;["levelA","levelB"]),
		items_between =Dict(:cond=&gt;["levelA","levelB"]),
		);

design = RepeatDesign(designOnce,4);</code></pre><p>See also <a href="#UnfoldSim.SingleSubjectDesign"><code>SingleSubjectDesign</code></a>, <a href="#UnfoldSim.MultiSubjectDesign"><code>MultiSubjectDesign</code></a></p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/design.jl#L154-L169" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.SingleSubjectDesign" id="UnfoldSim.SingleSubjectDesign"><code>UnfoldSim.SingleSubjectDesign</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">SingleSubjectDesign &lt;: AbstractDesign</code></pre><p>A type for specifying the experimental for a single subject (based on the given conditions).</p><p><strong>Fields</strong></p><ul><li>conditions = Dict{Symbol,Vector} of conditions, e.g. <code>Dict(:A=&gt;["a_small","a_big"],:B=&gt;["b_tiny","b_large"])</code></li><li><code>event_order_function</code> = x-&gt;x; # can be used to sort, or x-&gt;shuffle(MersenneTwister(42),x) - be sure to fix/update the rng accordingly!!</li></ul><p>Number of trials / rows in <code>generate_events(design)</code> depend on the full factorial of your <code>conditions</code>.</p><p>To increase the number of repetitions simply use <code>RepeatDesign(SingleSubjectDesign(...),5)</code></p><p>If conditions are omitted (or set to <code>nothing</code>), a single trial is simulated with a column <code>:dummy</code> and content <code>:dummy</code> - this is for convenience.</p><p>Tip: Check the resulting dataframe using <code>generate_events(design)</code></p><p><strong>Example</strong></p><pre><code class="language-julia hljs">design = SingleSubjectDesign(;
    conditions = Dict(
        :stimulus_type =&gt; ["natural", "artificial"],
        :contrast_level =&gt; range(0, 1, length = 5),
);</code></pre><p>See also <a href="#UnfoldSim.MultiSubjectDesign"><code>MultiSubjectDesign</code></a>, <a href="#UnfoldSim.RepeatDesign"><code>RepeatDesign</code></a></p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/design.jl#L39-L65" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.UniformOnset" id="UnfoldSim.UniformOnset"><code>UnfoldSim.UniformOnset</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct UniformOnset &lt;: AbstractOnset</code></pre><p>Provide a Uniform Distribution of the inter-event-distances. <code>width</code>  is the width of the uniform distribution (=&gt; the jitter). Since the lower bound is 0, <code>width</code> is also the upper bound. <code>offset</code> is the minimal distance. The maximal distance is <code>offset + width</code>.</p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/onset.jl#L5-L10" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.WhiteNoise" id="UnfoldSim.WhiteNoise"><code>UnfoldSim.WhiteNoise</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">WhiteNoise &lt;: WhiteNoise
noiselevel = 1
imfilter = 0</code></pre><p>Generate White Noise using <code>randn</code> - thus Gaussian noise. <code>noiselevel</code> is used to scale the noise</p><p>Using <code>imfilter</code> &gt; 0 it is possible to smooth the noise using Image.imfilter.</p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/noise.jl#L30-L38" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#Base.size-Tuple{MultiSubjectDesign}" id="Base.size-Tuple{MultiSubjectDesign}"><code>Base.size</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Returns dimension of experiment design</p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/design.jl#L72" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#DSP.Windows.hanning-Tuple{Any, Any, Any}" id="DSP.Windows.hanning-Tuple{Any, Any, Any}"><code>DSP.Windows.hanning</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>generate a hanning window</p><p>duration: in s offset: in s, defines hanning peak sfreq: sampling rate in Hz</p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/bases.jl#L28-L34" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.PuRF-Tuple{}" id="UnfoldSim.PuRF-Tuple{}"><code>UnfoldSim.PuRF</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">PuRF()</code></pre><p>Default generator for PuRF Pupil Response Function.</p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/bases.jl#L41-L44" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.add_noise!-Tuple{Any, AbstractNoise, Any}" id="UnfoldSim.add_noise!-Tuple{Any, AbstractNoise, Any}"><code>UnfoldSim.add_noise!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_noise!(rng, noisetype::AbstractNoise, signal)</code></pre><p>Generate and add noise to a data matrix. Assumes that the signal can be linearized, that is, that the noise is stationary</p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/noise.jl#L135-L140" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.add_responses!-Tuple{Any, Vector, Vararg{Any, 4}}" id="UnfoldSim.add_responses!-Tuple{Any, Vector, Vararg{Any, 4}}"><code>UnfoldSim.add_responses!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_responses!(signal, responses::Vector, e, s, tvec, erpvec)
add_responses!(signal, responses::Matrix, e, s, tvec, erpvec)
add_responses!(signal, responses::AbstractArray, e, s, tvec, erpvec)</code></pre><p>Helper function to add inplace the responses to the signal, but for both 2D (1 channel) and 3D (X channel case).</p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/simulation.jl#L164-L169" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.closest_src-Tuple{AbstractVector{&lt;:AbstractVector}, Any}" id="UnfoldSim.closest_src-Tuple{AbstractVector{&lt;:AbstractVector}, Any}"><code>UnfoldSim.closest_src</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">closest_src(coords_list::AbstractVector{&lt;:AbstractVector}, pos)
closest_src(coords::Vector{&lt;:Real}, pos)</code></pre><p>Takes an array of 'm' target coordinate vector (size 3) (or vector of vectors) and a matrix (n-by-3) of all available positions, and returns an array of size 'm' containing the indices of the respective items in 'pos' that are nearest to each of the target coordinates.</p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/helper.jl#L47-L52" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.closest_src-Tuple{Hartmut, String}" id="UnfoldSim.closest_src-Tuple{Hartmut, String}"><code>UnfoldSim.closest_src</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">closest_src(head::Hartmut,label::String)</code></pre><p>Returns src-<code>ix</code> of the Headmodel <code>Hartmut</code> which is closest to the average of the <code>label</code>.</p><div class="admonition is-category-important"><header class="admonition-header">Important</header><div class="admonition-body"><p>We use the average in eucledean space, but the cortex is a curved surface. In most cases they will not overlap. Ideally we would calculate the average on the surface, but this is a bit more complex to do (you'd need to calculate the vertices etc.)</p></div></div><pre><code class="language-julia hljs">hartmut = headmodel()
pos = closest_src(hartmut=&gt;"Left Middle Temporal Gyrus, posterior division")</code></pre></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/helper.jl#L71-L82" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.convert-NTuple{4, Any}" id="UnfoldSim.convert-NTuple{4, Any}"><code>UnfoldSim.convert</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Obsolete - # TODO: Transfer function to Unfold.jl</p><p>Function to convert output similar to unfold (data, events)</p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/helper.jl#L15-L19" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.create_continuous_signal-Tuple{Any, Any, Any}" id="UnfoldSim.create_continuous_signal-Tuple{Any, Any, Any}"><code>UnfoldSim.create_continuous_signal</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">create_continuous_signal(rng, responses, simulation)</code></pre><p>Based on the responses and simulation parameters, simulate onset latencies and add together a continuous signal.</p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/simulation.jl#L106-L111" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.epoch-Tuple{AbstractVector, Vararg{Any}}" id="UnfoldSim.epoch-Tuple{AbstractVector, Vararg{Any}}"><code>UnfoldSim.epoch</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">epoch(data::AbstractVector, args...; kwargs...)
epoch(
    data::AbstractArray{T,2},
    events,
    τ::Tuple{Number,Number},
    sfreq;
    eventtime::Symbol = :latency,
) where {T&lt;:Union{Missing,Number}}</code></pre><p>Helper function to epoch data.</p><p>Adapted from Unfold.jl: https://github.com/unfoldtoolbox/Unfold.jl/blob/b3a21c2bb7e93d2f45ec64b0197f4663a6d7939a/src/utilities.jl#L40</p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/helper.jl#L98-L111" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.generate_events-Tuple{MultiSubjectDesign}" id="UnfoldSim.generate_events-Tuple{MultiSubjectDesign}"><code>UnfoldSim.generate_events</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">generate_events(design::MultiSubjectDesign)</code></pre><p>Generate full factorial Dataframe according to MixedModelsSim.jl 's <code>simdat_crossed</code> function. Note: n_items = you can think of it as <code>trials</code> or better, as <code>stimuli</code>.</p><p>Note: No condition can be named <code>dv</code> which is used internally in MixedModelsSim / MixedModels as a dummy left-side</p><p>Afterwards applies <code>design.event_order_function</code>`.  Could be used to duplicate trials, sort, subselect etc.</p><p>Finally it sorts by <code>:subject</code></p><p>julia&gt; d = MultiSubjectDesign(;n<em>subjects = 10,n</em>items=20,both<em>within= Dict(:A=&gt;nlevels(5),:B=&gt;nlevels(2))) julia&gt; generate</em>events(d)</p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/design.jl#L102-L115" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.generate_events-Tuple{RepeatDesign}" id="UnfoldSim.generate_events-Tuple{RepeatDesign}"><code>UnfoldSim.generate_events</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">UnfoldSim.generate_events(design::RepeatDesign{T})</code></pre><p>In a repeated design, iteratively calls the underlying {T} Design and concatenates. In case of MultiSubjectDesign, sorts by subject.</p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/design.jl#L175-L179" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.generate_events-Tuple{SingleSubjectDesign}" id="UnfoldSim.generate_events-Tuple{SingleSubjectDesign}"><code>UnfoldSim.generate_events</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Generates full-factorial DataFrame of design.conditions</p><p>Afterwards applies design.event<em>order</em>function.</p><p>If conditions is <code>nothing</code>, a single trial is simulated with a column <code>:dummy</code> and content <code>:dummy</code> - this is for convenience.</p><p>julia&gt; d = SingleSubjectDesign(;conditions= Dict(:A=&gt;nlevels(5),:B=&gt;nlevels(2))) julia&gt; generate_events(d)</p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/design.jl#L76-L87" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.hartmut_citation-Tuple{}" id="UnfoldSim.hartmut_citation-Tuple{}"><code>UnfoldSim.hartmut_citation</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Returns citation-string for HArtMuT</p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/headmodel.jl#L27" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.headmodel-Tuple{}" id="UnfoldSim.headmodel-Tuple{}"><code>UnfoldSim.headmodel</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Load a headmodel, using Artifacts.jl automatically downloads the required files</p><p>Currently only <code>type="hartmut"</code> is implemented</p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/headmodel.jl#L38-L42" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.hrf-Tuple{}" id="UnfoldSim.hrf-Tuple{}"><code>UnfoldSim.hrf</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Generate a HRF kernel. </p><p>TR = 1/sfreq default parameters taken from SPM</p><p>Code adapted from Unfold.jl</p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/bases.jl#L54-L61" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.leadfield-Tuple{Hartmut}" id="UnfoldSim.leadfield-Tuple{Hartmut}"><code>UnfoldSim.leadfield</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Returns the leadfield</p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/headmodel.jl#L31" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.magnitude-Tuple{AbstractHeadmodel}" id="UnfoldSim.magnitude-Tuple{AbstractHeadmodel}"><code>UnfoldSim.magnitude</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Extracts magnitude of the orientation-including leadfield.</p><p>By default uses the orientation specified in the headmodel</p><p>Fallback: along the third dimension using <code>norm</code> - the maximal projection</p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/headmodel.jl#L79-L85" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.magnitude-Tuple{Hartmut}" id="UnfoldSim.magnitude-Tuple{Hartmut}"><code>UnfoldSim.magnitude</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>magnitude(headmodel::Hartmut; type = "perpendicular") = Extract magnitude of 3-orientation-leadfield,  <code>type</code> (default: "perpendicular") =&gt; uses the provided source-point orientations - otherwise falls back to <code>norm</code>.</p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/headmodel.jl#L88-L92" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.magnitude-Union{Tuple{AbstractArray{T, 3}}, Tuple{T}} where T&lt;:Real" id="UnfoldSim.magnitude-Union{Tuple{AbstractArray{T, 3}}, Tuple{T}} where T&lt;:Real"><code>UnfoldSim.magnitude</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">magnitude(lf::AbstractArray{T,3}) where {T&lt;:Real}</code></pre><p>If orientation is not specified, returns the maximal magnitude (norm of leadfield).</p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/headmodel.jl#L112-L115" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.magnitude-Union{Tuple{T}, Tuple{AbstractArray{T, 3}, AbstractMatrix{T}}} where T&lt;:Real" id="UnfoldSim.magnitude-Union{Tuple{T}, Tuple{AbstractArray{T, 3}, AbstractMatrix{T}}} where T&lt;:Real"><code>UnfoldSim.magnitude</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">magnitude(lf::AbstractArray{T,3}, orientation::AbstractArray{T,2}) where {T&lt;:Real}</code></pre><p>Return the magnitude along an orientation of the leadfield.</p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/headmodel.jl#L97-L100" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.maxlength-Tuple{Vector{&lt;:AbstractComponent}}" id="UnfoldSim.maxlength-Tuple{Vector{&lt;:AbstractComponent}}"><code>UnfoldSim.maxlength</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">maxlength(c::Vector{&lt;:AbstractComponent}) = maximum(length.(c))</code></pre><p>maximum of individual component lengths</p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/component.jl#L125-L128" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.n170-Tuple{}" id="UnfoldSim.n170-Tuple{}"><code>UnfoldSim.n170</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">n170(;sfreq=100)</code></pre><p>Generator for Hanning window, negative (!) peak at 170ms, width 150ms, at kwargs <code>sfreq</code> (default 100). Returns a vector.</p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/bases.jl#L16-L19" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.n400-Tuple{}" id="UnfoldSim.n400-Tuple{}"><code>UnfoldSim.n400</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">n400(;sfreq=100)</code></pre><p>Generator for Hanning window, negative (!) peak at 400ms, width 400ms, at kwargs <code>sfreq</code> (default 100). Returns a vector.</p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/bases.jl#L22-L25" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.n_channels-Tuple{AbstractComponent}" id="UnfoldSim.n_channels-Tuple{AbstractComponent}"><code>UnfoldSim.n_channels</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">n_channels(c::AbstractComponent)</code></pre><p>Return the number of channels. By default = 1.</p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/component.jl#L84-L87" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.n_channels-Tuple{MultichannelComponent}" id="UnfoldSim.n_channels-Tuple{MultichannelComponent}"><code>UnfoldSim.n_channels</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">n_channels(c::MultichannelComponent)</code></pre><p>For <code>MultichannelComponent</code> return the length of the projection vector.</p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/component.jl#L90-L94" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.n_channels-Tuple{Vector{&lt;:AbstractComponent}}" id="UnfoldSim.n_channels-Tuple{Vector{&lt;:AbstractComponent}}"><code>UnfoldSim.n_channels</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>For a vector of <code>MultichannelComponent</code>s, return the first but asserts all are of equal length.</p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/component.jl#L97-L99" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.p100-Tuple{}" id="UnfoldSim.p100-Tuple{}"><code>UnfoldSim.p100</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">p100(;sfreq=100)</code></pre><p>Generator for Hanning window, peak at 100ms, width 100ms, at kwargs <code>sfreq</code> (default 100). Returns a vector.</p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/bases.jl#L4-L7" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.p300-Tuple{}" id="UnfoldSim.p300-Tuple{}"><code>UnfoldSim.p300</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">p300(;sfreq=100)</code></pre><p>Generator for Hanning window, peak at 300ms, width 300ms, at kwargs <code>sfreq</code> (default 100). Returns a vector.</p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/bases.jl#L10-L13" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.pad_array-Tuple{Vector, Tuple, Any}" id="UnfoldSim.pad_array-Tuple{Vector, Tuple, Any}"><code>UnfoldSim.pad_array</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Pads array with specified value, length pad_array(arr, len, val)</p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/helper.jl#L1-L4" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.predef_2x2-Tuple{Random.AbstractRNG}" id="UnfoldSim.predef_2x2-Tuple{Random.AbstractRNG}"><code>UnfoldSim.predef_2x2</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">predef_2x2(rng::AbstractRNG; kwargs...)</code></pre><p>The most used <code>kwargs</code> is: <code>return_epoched = true</code> which returns already epoched data. If you want epoched data without overlap, specify <code>onset = NoOnset()</code> and <code>return_epoched = true</code></p><p><strong>Design</strong></p><ul><li><code>n_items = 100</code>,</li><li><code>n_subjects = 1</code>,</li><li><code>conditions = Dict(:A =&gt; ["a_small","a_big"], :B =&gt; ["b_tiny","b_large"])</code>,</li><li><code>event_order_function = x -&gt; shuffle(deepcopy(rng), x)</code>,</li></ul><p><strong>Component / Signal</strong></p><ul><li><code>signalsize = 100</code>, # Length of simulated hanning window</li><li><code>basis = hanning(signalsize)</code>, # The actual "function", <code>signalsize</code> is only used here</li><li><code>β = [1, -0.5, .5, +1]</code>, # The parameters</li><li><code>σs = Dict(:subject =&gt; [1, 0.5, 0.5, 0.5],:item =&gt; [1])</code>, # Only in n_subjects &gt;= 2 case, specifies the random effects</li><li><code>contrasts = Dict(:A =&gt; EffectsCoding(), :B =&gt; EffectsCoding())</code> # Effect coding by default</li><li><code>formula = n_subjects == 1 ? @formula(0 ~ 1 + A*B) : @formula(dv ~ 1 + A*B + (A*B|subject) + (1|item))</code>,</li></ul><p><strong>Onset</strong></p><ul><li><code>overlap = (0.5,0.2)</code>,</li><li><code>onset = UniformOnset(; offset = signalsize * overlap[1], width = signalsize * overlap[2])</code>, # Put offset to 1 for no overlap. put width to 0 for no jitter</li></ul><p><strong>Noise</strong></p><ul><li><code>noiselevel = 0.2</code>,</li><li><code>noise = PinkNoise(; noiselevel = noiselevel)</code>,</li></ul><p>Be careful if you modify n<em>items with n</em>subjects = 1, n_items has to be a multiple of 4 (or your equivalent conditions factorial, e.g. all combinations length)</p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/predefinedSimulations.jl#L140-L169" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.predef_eeg-Tuple{Any}" id="UnfoldSim.predef_eeg-Tuple{Any}"><code>UnfoldSim.predef_eeg</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">predef_eeg(; kwargs...)
predef_eeg(rng; kwargs...)
predef_eeg(rng, n_subjects; kwargs...)</code></pre><p>Generate a P1/N1/P3 complex. In case <code>n_subjects</code> is defined - <code>MixedModelComponents</code> are generated, else <code>LinearModelComponents</code>.</p><p>The most used <code>kwargs</code> is: <code>return_epoched=true</code> which returns already epoched data. If you want epoched data without overlap, specify <code>onset = NoOnset()</code> and <code>return_epoched = true</code></p><p><strong>Default parameters:</strong></p><p><strong>Design</strong></p><ul><li><code>n_repeats = 100</code>,</li><li><code>event_order_function = x -&gt; shuffle(deepcopy(rng), x)</code>, # random trial order</li><li><code>conditions = Dict(...)</code>,</li></ul><p><strong>Component / Signal</strong></p><ul><li><code>sfreq = 100</code>,</li><li><code>p1 = (p100(; sfreq = sfreq), @formula(0 ~ 1), [5], Dict())</code>, # P1 amp 5, no effects</li><li><code>n1 = (n170(; sfreq = sfreq), @formula(0 ~ 1 + condition), [5,-3], Dict())</code>, # N1 amp 5, dummy-coded condition effect (levels "car", "face") of -3</li><li><code>p3 = (p300(; sfreq = sfreq), @formula(0 ~ 1 + continuous), [5,1], Dict())</code>, # P3 amp 5, continuous effect range [-5,5] with slope 1</li></ul><p><strong>Onset</strong></p><ul><li><code>overlap = (0.5,0.2)</code>, # offset + width/length of Uniform noise. put offset to 1 for no overlap. put width to 0 for no jitter</li><li><code>onset = UniformOnset(; offset = sfreq * 0.5 * overlap[1], width = sfreq * 0.5 * overlap[2])</code>, </li></ul><p><strong>Noise</strong></p><ul><li><code>noiselevel = 0.2</code>,</li><li><code>noise = PinkNoise(; noiselevel = noiselevel)</code>,</li></ul></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/predefinedSimulations.jl#L9-L40" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.simulate" id="UnfoldSim.simulate"><code>UnfoldSim.simulate</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">simulate(
[rng::AbstractRNG,]
design::AbstractDesign,
signal,
onset::AbstractOnset,
noise::AbstractNoise = NoNoise();
return_epoched=false,
)</code></pre><p>Main simulation function, given <code>Design</code>, [Array of] <code>Component</code>, <code>Onset</code> and optional [<code>Noise</code>], returns continuous or epoched signal.</p><p><strong>optional</strong></p><ul><li><code>return_epoched</code> (Bool, default: <code>false</code>):  Skip the Onset-calculation and conversion to continuous data and return the epoched data directly (see also remarks below).</li></ul><p><strong>Return</strong></p><p>Depending on the design, the components and on <code>return_epoched</code>, the output can be a 1-D, 2-D, 3-D or 4-D Array. For example, a 4-D Array would have the dimensions <code>channels x time x trials x subjects</code></p><p><strong>Notes</strong></p><p>Some remarks to how the noise is added:</p><ul><li>If <code>return_epoched = true</code> and <code>onset =NoOnset()</code> the noise is added to the epoched data matrix</li><li>If <code>onset</code> is not <code>NoOnset</code>, a continuous signal is created and the noise is added to this i.e. this means that the noise won't be the same as in the <code>onset = NoOnset()</code> case even if <code>return_epoched = true</code>.</li><li>The case <code>return_epoched = false</code> and <code>onset = NoOnset()</code> is not possible and therefore covered by an assert statement</li></ul></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/simulation.jl#L15-L39" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.simulate_and_add!-Tuple{AbstractMatrix, Any, Any, Any}" id="UnfoldSim.simulate_and_add!-Tuple{AbstractMatrix, Any, Any, Any}"><code>UnfoldSim.simulate_and_add!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">simulate_and_add!(epoch_data::AbstractMatrix, c, simulation, rng)
simulate_and_add!(epoch_data::AbstractArray, c, simulation, rng)</code></pre><p>Helper function to call <code>simulate_component</code> and add it to a provided Array.</p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/component.jl#L316-L320" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.simulate_component-Tuple{Any, AbstractComponent, Simulation}" id="UnfoldSim.simulate_component-Tuple{Any, AbstractComponent, Simulation}"><code>UnfoldSim.simulate_component</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">simulate_component(rng, c::AbstractComponent, simulation::Simulation)</code></pre><p>By default call <code>simulate_component</code> with <code>(::Abstractcomponent,::AbstractDesign)</code> instead of the whole simulation. This allows users to provide a hook to do something completely different :)</p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/component.jl#L131-L134" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.simulate_component-Tuple{Any, LinearModelComponent, AbstractDesign}" id="UnfoldSim.simulate_component-Tuple{Any, LinearModelComponent, AbstractDesign}"><code>UnfoldSim.simulate_component</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">simulate_component(rng, c::AbstractComponent, simulation::Simulation)</code></pre><p>Generate a linear model design matrix, weight it by c.β and multiply the result with the given basis vector.</p><p>julia&gt; c = UnfoldSim.LinearModelComponent([0,1,1,0],@formula(0~1+cond),[1,2],Dict()) julia&gt; design = MultiSubjectDesign(;n<em>subjects=2,n</em>items=50,items<em>between=(;:cond=&gt;["A","B"])) julia&gt; simulate</em>component(StableRNG(1),c,design)</p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/component.jl#L138-L145" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.simulate_component-Tuple{Any, MixedModelComponent, AbstractDesign}" id="UnfoldSim.simulate_component-Tuple{Any, MixedModelComponent, AbstractDesign}"><code>UnfoldSim.simulate_component</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">simulate_component(rng, c::MixedModelComponent, design::AbstractDesign)</code></pre><p>Generates a MixedModel and simulates data according to c.β and c.σs.</p><p>A trick is used to remove the Normal-Noise from the MixedModel which might lead to rare numerical instabilities. Practically, we upscale the σs by factor 10000, and provide a σ=0.0001. Internally this results in a normalization where the response scale is 10000 times larger than the noise.</p><p>Currently, it is not possible to use a different basis for fixed and random effects, but a code-stub exists (it is slow though).</p><ul><li><code>return_parameters</code> (Bool,false) - can be used to return the per-event parameters used to weight the basis function. Sometimes useful to see what is simulated</li></ul><p>julia&gt; design = MultiSubjectDesign(;n<em>subjects=2,n</em>items=50,items_between=(;:cond=&gt;["A","B"])) julia&gt; c = UnfoldSim.MixedModelComponent([0.,1,1,0],@formula(0~1+cond+(1|subject)),[1,2],Dict(:subject=&gt;[2],),Dict()) julia&gt; simulate(StableRNG(1),c,design)</p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/component.jl#L164-L178" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.simulate_component-Tuple{Any, MultichannelComponent, AbstractDesign}" id="UnfoldSim.simulate_component-Tuple{Any, MultichannelComponent, AbstractDesign}"><code>UnfoldSim.simulate_component</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">simulate_component(rng,c::MultichannelComponent,design::AbstractDesign)</code></pre><p>Return the projection of a component from source to "sensor" space.</p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/component.jl#L106-L109" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.simulate_noise-Tuple{Any, NoNoise, Int64}" id="UnfoldSim.simulate_noise-Tuple{Any, NoNoise, Int64}"><code>UnfoldSim.simulate_noise</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">simulate_noise(rng, t::NoNoise, n::Int)</code></pre><p>Return zeros instead of noise.</p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/noise.jl#L92-L95" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.simulate_noise-Tuple{Any, Union{PinkNoise, RedNoise}, Int64}" id="UnfoldSim.simulate_noise-Tuple{Any, Union{PinkNoise, RedNoise}, Int64}"><code>UnfoldSim.simulate_noise</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">simulate_noise(rng, t::Union{PinkNoise,RedNoise}, n::Int)</code></pre><p>Generate Pink or Red Noise using the <code>SignalAnalysis.jl</code> implementation.</p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/noise.jl#L83-L87" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.simulate_onsets-Tuple{Any, AbstractOnset, Simulation}" id="UnfoldSim.simulate_onsets-Tuple{Any, AbstractOnset, Simulation}"><code>UnfoldSim.simulate_onsets</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">simulate_onsets(rng, onset::AbstractOnset, simulation::Simulation)</code></pre><p>Call <code>simulate_interonset_distances</code> to generate distances between events and then add them up to generate the actual latencies in samples.</p><p><strong>main call from <code>simulation</code></strong></p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/onset.jl#L57-L61" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.simulate_responses-Tuple{Any, Vector{&lt;:AbstractComponent}, Simulation}" id="UnfoldSim.simulate_responses-Tuple{Any, Vector{&lt;:AbstractComponent}, Simulation}"><code>UnfoldSim.simulate_responses</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">simulate_responses(
    rng,
    components::Vector{&lt;:AbstractComponent},
    simulation::Simulation)</code></pre><p>Simulate multiple component responses and accumulates them on a per-event basis.</p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/component.jl#L290-L296" target="_blank">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" href="#UnfoldSim.weight_σs-Tuple{Dict, Float64, Float64}" id="UnfoldSim.weight_σs-Tuple{Dict, Float64, Float64}"><code>UnfoldSim.weight_σs</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Weights a σs Dict for MixedModels.jl by a Float64</p><p>Finally sales it by σ_lmm, as a trick to simulate noise-free LMMs</p><p>I anticipate a function     <code>function weight_σs(σs::Dict,b_σs::Dict,σ_lmm::Float64)</code> where each σs entry can be weighted individually</p></div><a class="docs-sourcelink" href="https://github.com/unfoldtoolbox/UnfoldSim.jl/blob/59d3802fb9f7d301c0f7c482ab68ffd7ee3e0332/src/component.jl#L253-L261" target="_blank">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../generated/HowTo/predefinedData/">« Use existing experimental designs &amp; onsets in the simulation</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label></p><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div><p></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.7.0 on <span class="colophon-date" title="Tuesday 15 October 2024 09:10">Tuesday 15 October 2024</span>. Using Julia version 1.11.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></HTML>